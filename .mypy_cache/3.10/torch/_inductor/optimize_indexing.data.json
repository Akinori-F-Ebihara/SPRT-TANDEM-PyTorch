{".class":"MypyFile","_fullname":"torch._inductor.optimize_indexing","future_import_flags":[],"is_partial_stub_package":false,"is_stub":false,"names":{".class":"SymbolTable","Dict":{".class":"SymbolTableNode","cross_ref":"typing.Dict","kind":"Gdef"},"FloorDiv":{".class":"SymbolTableNode","cross_ref":"torch.fx.experimental.symbolic_shapes.FloorDiv","kind":"Gdef"},"InterpreterShim":{".class":"SymbolTableNode","cross_ref":"torch._inductor.ir.InterpreterShim","kind":"Gdef"},"Iterable":{".class":"SymbolTableNode","cross_ref":"typing.Iterable","kind":"Gdef"},"LoopBody":{".class":"SymbolTableNode","cross_ref":"torch._inductor.ir.LoopBody","kind":"Gdef"},"ModularIndexing":{".class":"SymbolTableNode","cross_ref":"torch._inductor.ir.ModularIndexing","kind":"Gdef"},"OptimizeIndexing":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.optimize_indexing.OptimizeIndexing","name":"OptimizeIndexing","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"torch._inductor.optimize_indexing","mro":["torch._inductor.optimize_indexing.OptimizeIndexing","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0],"arg_names":["self","loop_body","indices_ranges","indexing_exprs"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0,0],"arg_names":["self","loop_body","indices_ranges","indexing_exprs"],"arg_types":["torch._inductor.optimize_indexing.OptimizeIndexing","torch._inductor.ir.LoopBody",{".class":"Instance","args":["sympy.core.symbol.Symbol","builtins.int"],"type_ref":"builtins.dict"},{".class":"Instance","args":["builtins.str","sympy.core.expr.Expr"],"type_ref":"builtins.dict"}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of OptimizeIndexing","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"_get_index_impl":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","name"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing._get_index_impl","name":"_get_index_impl","type":null}},"all_graphs":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.all_graphs","name":"all_graphs","type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}],"type_ref":"builtins.list"}}},"all_nodes":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":["is_property","is_generator","is_decorated"],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.all_nodes","name":"all_nodes","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_property","is_ready","is_inferred"],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.all_nodes","name":"all_nodes","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.optimize_indexing.OptimizeIndexing"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":true,"is_ellipsis_args":false,"name":"all_nodes of OptimizeIndexing","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}}},"get_index":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","name"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.get_index","name":"get_index","type":null}},"index_indirect_dependecies":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.index_indirect_dependecies","name":"index_indirect_dependecies","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":["sympy.core.basic.Basic"],"type_ref":"builtins.set"}],"type_ref":"builtins.dict"}}},"indexing_exprs":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.indexing_exprs","name":"indexing_exprs","type":{".class":"Instance","args":["builtins.str","sympy.core.expr.Expr"],"type_ref":"builtins.dict"}}},"indices_range":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.indices_range","name":"indices_range","type":{".class":"Instance","args":["sympy.core.symbol.Symbol","builtins.int"],"type_ref":"builtins.dict"}}},"interp_env":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred","invalid_partial_type"],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.interp_env","name":"interp_env","type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"type_ref":"builtins.dict"}}},"loop_body":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.loop_body","name":"loop_body","type":"torch._inductor.ir.LoopBody"}},"masked_subblock":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0],"arg_names":["self","subblock","env","mask","value"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.masked_subblock","name":"masked_subblock","type":null}},"replace_indirect":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","old","new"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.replace_indirect","name":"replace_indirect","type":null}},"replacement_vals":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred","invalid_partial_type"],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.replacement_vals","name":"replacement_vals","type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"type_ref":"builtins.dict"}}},"run":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.run","name":"run","type":null}},"set_indirect":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","var","new_var"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.set_indirect","name":"set_indirect","type":null}},"submodules":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.submodules","name":"submodules","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}},"swap_submodules":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","submodules"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.swap_submodules","name":"swap_submodules","type":null}},"tensor_values_set":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.tensor_values_set","name":"tensor_values_set","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}},"try_to_reduce_precision":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","node"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.OptimizeIndexing.try_to_reduce_precision","name":"try_to_reduce_precision","type":null}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"Union":{".class":"SymbolTableNode","cross_ref":"typing.Union","kind":"Gdef"},"V":{".class":"SymbolTableNode","cross_ref":"torch._inductor.virtualized.V","kind":"Gdef"},"ValueRangeAnalysis":{".class":"SymbolTableNode","cross_ref":"torch.utils._sympy.value_ranges.ValueRangeAnalysis","kind":"Gdef"},"ValueRanges":{".class":"SymbolTableNode","cross_ref":"torch.utils._sympy.value_ranges.ValueRanges","kind":"Gdef"},"__annotations__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"torch._inductor.optimize_indexing.__annotations__","name":"__annotations__","type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.dict"}}},"__doc__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"torch._inductor.optimize_indexing.__doc__","name":"__doc__","type":"builtins.str"}},"__file__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"torch._inductor.optimize_indexing.__file__","name":"__file__","type":"builtins.str"}},"__name__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"torch._inductor.optimize_indexing.__name__","name":"__name__","type":"builtins.str"}},"__package__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"torch._inductor.optimize_indexing.__package__","name":"__package__","type":"builtins.str"}},"dominated_nodes":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1],"arg_names":["initial_queue","skip_filter"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.dominated_nodes","name":"dominated_nodes","type":{".class":"CallableType","arg_kinds":[0,1],"arg_names":["initial_queue","skip_filter"],"arg_types":[{".class":"UnionType","items":["torch.fx.node.Node",{".class":"Instance","args":["torch.fx.node.Node"],"type_ref":"typing.Iterable"}]},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"dominated_nodes","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"functools":{".class":"SymbolTableNode","cross_ref":"functools","kind":"Gdef"},"indexing_dtype_strength_reduction":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["loop_body"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.indexing_dtype_strength_reduction","name":"indexing_dtype_strength_reduction","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["loop_body"],"arg_types":["torch._inductor.ir.LoopBody"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"indexing_dtype_strength_reduction","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"log":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_inferred","has_explicit_value"],"fullname":"torch._inductor.optimize_indexing.log","name":"log","type":"logging.Logger"}},"logging":{".class":"SymbolTableNode","cross_ref":"logging","kind":"Gdef"},"math":{".class":"SymbolTableNode","cross_ref":"math","kind":"Gdef"},"range_expressable_in_32_bits":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["range"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.range_expressable_in_32_bits","name":"range_expressable_in_32_bits","type":null}},"sympy":{".class":"SymbolTableNode","cross_ref":"sympy","kind":"Gdef"},"sympy_subs":{".class":"SymbolTableNode","cross_ref":"torch._inductor.utils.sympy_subs","kind":"Gdef"},"torch":{".class":"SymbolTableNode","cross_ref":"torch","kind":"Gdef"},"val_expressable_in_32_bits":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["val"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.optimize_indexing.val_expressable_in_32_bits","name":"val_expressable_in_32_bits","type":null}}},"path":"/usr/local/lib/python3.10/dist-packages/torch/_inductor/optimize_indexing.py"}